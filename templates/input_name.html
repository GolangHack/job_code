<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="{{'animate.css' | staticfile}}">
	<link rel="stylesheet" href="{{'bootstrap.min.css' | staticfile}}">
	<link rel="stylesheet" href="{{'newdefine.css' | staticfile}}">

	<script src="{{'config_editor/vue.js' | staticfile}}"></script>
	<link rel="stylesheet" href="{{'config_editor/css/config_editor.css' | staticfile}}">
	<link rel="stylesheet" href="{{'config_editor/css/jquery.keypad.css' | staticfile}}">
	<link rel="stylesheet" href="{{'config_editor/scroll/jquery.mCustomScrollbar.css' | staticfile}}">

	<script src="{{'config_editor/jquery.min.js' | staticfile}}"></script>
	<script src="{{'config_editor/js/jquery.plugin.min.js' | staticfile}}"></script>
	<script src="{{'config_editor/js/jquery.keypad.js' | staticfile}}"></script>
	<script src="{{'config_editor/scroll/jquery.mCustomScrollbar.concat.min.js' | staticfile}}"></script>
	<script type="text/javascript" src="{{'config_editor/js/jquery.keypad-for-name.js' | staticfile}}"></script>
	<title>Config editor</title>
</head>

<body>
	<style>
		.input-group {
			display: flex;
			width: 1104px;
			margin: 20px auto 263px;
			flex-direction: column;
			align-items: flex-start;
		}
		.input-group .form-group {
			margin-bottom: 34px;
		}
		.input-group .form-group:last-child {
			margin-bottom: 0;
		}
		.input-group .styled-input {
			width: 1104px;
			height: 103px;
			border: none !important;
			padding: 0 36px;
			font-size: 46px;
			line-height: 46px;
			color: #0d798d;
			background: transparent url({{'input-back_styled.png' | staticfile}}) no-repeat center center;
		}
		.styled-input:focus {
			border: none !important;
			outline: none !important;
		}
		.styled-checkbox {
			position: absolute;
			opacity: 0;
		}
		.styled-checkbox + label {
			position: relative;
			cursor: pointer;
			font-size: 28px;
			margin-bottom: 0;
			line-height: 36px;
			padding-left: 50px;
		}
		.styled-checkbox + label:before {
			content: '';
			display: block;
			width: 36px;
			height: 36px;
			background: #ffffff;
			position: absolute;
			top: 0;
			left: 0;
		}
		.styled-checkbox:hover + label:before {

		}
		.styled-checkbox:focus + label:before {

		}
		.styled-checkbox:checked + label:before {

		}
		.styled-checkbox:disabled + label {
			color: #b8b8b8;
			cursor: auto;
		}
		.styled-checkbox:disabled + label:before {
			box-shadow: none;
			background: #ddd;
		}
		.styled-checkbox:checked + label:after {
			content: '';
			position: absolute;
			left: 4px;
			top: 4px;
			background: transparent url('{{'check_icon.png' | staticfile}}') no-repeat center center;
			width: 28px;
			height: 28px;
		}
		.keypad-popup {
			-webkit-transform: translateX(-50%);
			-ms-transform: translateX(-50%);
			transform: translateX(-50%);
			left: 50% !important;
			width: 1200px !important;
		}
		.keypad-popup .keypad-space {
			width: 1rem;
		}

        .acceptText a{
            color: #00ffff;
            text-decoration: #0b2e13;
        }
	</style>
	<div class="wrapper" id="wrapper">
		<main id="app">
			<header class="text-center">
				<img src="{{'logo.png' | staticfile}}" alt="logo" class="head-logo">
			</header>
			<div class="title num">Введите свое имя</div>
			<div class="input-group">
				<div class="form-group">
					<input
					type="text"
					id="name"
					class="styled-input"
					@change="changeWathcher($event)"
					@click="bindKeypad()"
					maxlength="45"
					value=""
					>
				</div>
                <div class="form-group" style="margin-left: 16px;">
                    <input id="check_1" type="checkbox" class="styled-checkbox"
                           v-model="data.person_data">
                    <label for="check_1" class="acceptText">Создавая аккаунт, я даю согласие на <a id="personal_data_processing"
                                                   href="BackEnd.onButtonClick"
                                                   data-bind="true"
                                                   data-params="''">обработку персональных данных</a>
                    </label>
                </div>
				<div class="form-group" style="margin-left: 16px;">
					<input id="check_2" type="checkbox" class="styled-checkbox"
                           v-model="data.adw_data">
                    <label for="check_2" class="acceptText">
                    Создавая аккаунт, я даю согласие на <a id="adw_data_agreement"
                                                           href="BackEnd.onButtonClick"
                                                           data-bind="true"
						                                   data-params="''">рассылку рекламных уведомлений</a>
                    </label>
				</div>
			</div>
			<footer>
				<div class="container">
					<div class="d-flex justify-content-between">
						<a id="main" href="BackEnd.onButtonClick" data-bind="true"
						data-params="''" class="btn-menu prev animated"
						enterAnimation="fadeInLeft" loadingActivated="true"
						onClickAnimation="fadeOutLeft">
						<span>Главный экран</span></a>
						<a v-if="btnNext" id="next" href="BackEnd.onButtonClick" data-bind="true"
						:data-params="databind" class="btn-menu next animated"
						loadingActivated="true"
						onClickAnimation="fadeOutRight">
						<span>Продолжить</span></a>
                        <a v-if="!btnNext" id="next2" href="BackEnd.onButtonClick" data-bind="true"
						:data-params="databind" class="btn-menu next animated disabled"
						loadingActivated="true"
						onClickAnimation="fadeOutRight">
						<span>Продолжить</span></a>
					</div>
                </div>
                <div class="container">
                    <div class="info-contants text-center">По всем вопросам обращаться по тел. {{phone_number}}</div>
                </div>
			</footer>

    </main>
    </div>
	<script>
		var app = new Vue({
			el: '#wrapper',
			data: {
				data: {
					value_name:"",
					person_data:true,
                    adw_data: true
				}
			},
			methods: {
				bindKeypad: function(){
					$.keypad.setDefaults($.keypad.regionalOptions['ru']);
					$('#name').keypad({
						keypadOnly: false,
						layout: $.keypad.switchLayout
					}).focus();

				},
				changeWathcher: function(e){
					console.log("Changes")
					this.data.value_name = event.target.value
				},
				saveChanges: function(){
					BackEnd.onButtonClick("saveChanges", JSON.stringify(this.data));
				}
			},
			computed: {
				databind: function () {
					return '"[\''+this.data.value_name+'\',\''+this.data.person_data+'\',\''+this.data.adw_data+'\',]"'
				},
                btnNext: function () {
                    return this.data.value_name.length > 2 && this.data.person_data;
                }
			}
		});
	</script>
</body>
</html>