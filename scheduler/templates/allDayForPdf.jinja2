<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<style>
table {
    border-collapse: collapse;
    border:1px solid #000000;
}
table td{
    border:1px dotted #000000;
    padding:5px;
}
table td:first-child{
    border-left:0px solid #000000;
}
table th{
   border:1px solid #000000;
   padding:5px;
}
</style>
<body>
<center>
    <h3>Отчет за все дни работы</h3>
</center>
<i>Общая информация</i><br>
<table>
    <thead>
    <tr>
        <th width="35%">Наименование</th>
        <th width="65%">Значение</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Дата отчета</td>
        <td>{{now}}</td>
    </tr>
    <tr>
        <td>Период отчета</td>
        <td>с {{ report_all_time_start }} по {{now}}</td>
    </tr>
    <tr>
        <td>Количество купленных карт</td>
        <td>{{data["bought_cards"]}}</td>
    </tr>
    <tr>
        <td>Количество выданных на сдачу купюр</td>
        <td>{{ data["take_bils_on_shor_change"] }}</td>
    </tr>
    {% for key, value in data["wash_on_programs_name"].items() %}
    <tr>
        <td>Количество моек по программе {{ key }} <br><b><i>{{value}}</i></b></td>
        <td>{{data["wash_on_programs_count"][key]}}</td>
    </tr>
    {% endfor %}
    <tr>
        <td>Количество оплат клиентскими картами</td>
        <td>{{data["payment_by_client_cards"]}}</td>
    </tr>
    </tbody>
</table>
<i>Финансовая информация. Мойки</i>
<table width="100%">
    <thead>
    <tr>
        <th width="35%">Наименование</th>
        {% for i in data["inserted_money"] | unpack_key %}
           <th>Робот {{ i }}</th>
        {% endfor %}
        <th>Итого</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Внесенных средств</td>
        {% for value in data["inserted_money"] %}
            <td>{{value}}</td>
        {% endfor %}
    </tr>
    <tr>
        <td>Внесенных наличных средств</td>
        {% for value in data["insert_nal_money"] %}
            <td>{{value}}</td>
        {% endfor %}
    </tr>
    <tr>
        <td>Внесенных с клиентских карт средств</td>
        {% for value in data["insert_client_card_money"] %}
            <td>{{value}}</td>
        {% endfor %}
    </tr>
    <tr>
        <td>Внесенных с банковских карт средств</td>
        {% for value in data["insert_bank_card_money"] %}
            <td>{{value}}</td>
        {% endfor %}
    </tr>
    {% for value in data["all_payment_info_by_program"] %}
        <tr>
            {% for rowkey in value %}
                <td>{{rowkey}}</td>
            {% endfor %}
        </tr>
    {% endfor %}




    </tbody>
</table>

<i>Финансовая информация. Клиентские карты</i><br>
<table>
    <thead>
    <tr>
        <th width="35%">Наименование</th>
        <th width="65%">Значение</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Внесенных средств</td>
        <td>{{ data["card_inserted_money"] }}</td>
    </tr>
    <tr>
        <td>Внесенных наличных средств</td>
        <td>{{ data["card_insert_nal_money"] }}</td>
    </tr>
    <tr>
        <td>Внесенных с банковских карт средств</td>
        <td>{{ data["card_insert_bank_card_money"] }}</td>
    </tr>
    <tr>
        <td>Сумма оплат за приобретение клиентской карты</td>
        <td>{{ data["card_sum_bought_cards"] }}</td>
    </tr>
    <tr>
        <td>Сумма кэшбэка, перечисленного на клиентские карты</td>
        <td>{{ data["card_sum_cashback_send_cards"] }}</td>
    </tr>
    </tbody>
</table>
</body>
</html>